# Auto-generated file. Do not modify manually. Check README.md.
local mcpIstioConfig = (import "service-mesh/istio-config.jsonnet");
local istioPhases = (import "service-mesh/istio-phases.jsonnet");

if (istioPhases.phaseNum == 2) then
{
  apiVersion: "v1",
  data: {
    "crd-all.gen.yaml": "# DO NOT EDIT - Generated by Cue OpenAPI generator.\napiVersion: apiextensions.k8s.io/v1beta1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    \"helm.sh/resource-policy\": keep\n  creationTimestamp: null\n  labels:\n    app: mixer\n    chart: istio\n    heritage: Tiller\n    istio: core\n    package: istio.io.mixer\n    release: istio\n  name: attributemanifests.config.istio.io\nspec:\n  group: config.istio.io\n  names:\n    categories:\n    - istio-io\n    - policy-istio-io\n    kind: attributemanifest\n    plural: attributemanifests\n    singular: attributemanifest\n  scope: Namespaced\n  subresources:\n    status: {}\n  version: \"v1alpha2\"\n  versions:\n  - name: v1alpha2\n    served: true\n    storage: true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions: []\n  storedVersions: []\n\n---\napiVersion: apiextensions.k8s.io/v1beta1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    \"helm.sh/resource-policy\": keep\n  creationTimestamp: null\n  labels:\n    app: istio-pilot\n    heritage: Tiller\n    istio: security\n    release: istio\n  name: authorizationpolicies.security.istio.io\nspec:\n  group: security.istio.io\n  names:\n    categories:\n    - istio-io\n    - security-istio-io\n    kind: AuthorizationPolicy\n    plural: authorizationpolicies\n    singular: authorizationpolicy\n  scope: Namespaced\n  subresources:\n    status: {}\n  version: \"v1beta1\"\n  versions:\n  - name: v1beta1\n    served: true\n    storage: true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions: []\n  storedVersions: []\n\n---\napiVersion: apiextensions.k8s.io/v1beta1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    \"helm.sh/resource-policy\": keep\n  creationTimestamp: null\n  labels:\n    app: istio-pilot\n    heritage: Tiller\n    istio: rbac\n    release: istio\n  name: clusterrbacconfigs.rbac.istio.io\nspec:\n  group: rbac.istio.io\n  names:\n    categories:\n    - istio-io\n    - rbac-istio-io\n    kind: ClusterRbacConfig\n    plural: clusterrbacconfigs\n    singular: clusterrbacconfig\n  scope: Cluster\n  subresources:\n    status: {}\n  version: \"v1alpha1\"\n  versions:\n  - name: v1alpha1\n    served: true\n    storage: true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions: []\n  storedVersions: []\n\n---\napiVersion: apiextensions.k8s.io/v1beta1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    \"helm.sh/resource-policy\": keep\n  creationTimestamp: null\n  labels:\n    app: istio-pilot\n    chart: istio\n    heritage: Tiller\n    release: istio\n  name: destinationrules.networking.istio.io\nspec:\n  additionalPrinterColumns:\n  - JSONPath: .spec.host\n    description: The name of a service from the service registry\n    name: Host\n    type: string\n  - JSONPath: .metadata.creationTimestamp\n    description: |-\n      CreationTimestamp is a timestamp representing the server time when this object was created. It is not guaranteed to be set in happens-before order across separate operations. Clients may not set this value. It is represented in RFC3339 form and is in UTC.\n      Populated by the system. Read-only. Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata\n    name: Age\n    type: date\n  group: networking.istio.io\n  names:\n    categories:\n    - istio-io\n    - networking-istio-io\n    kind: DestinationRule\n    listKind: DestinationRuleList\n    plural: destinationrules\n    shortNames:\n    - dr\n    singular: destinationrule\n  scope: Namespaced\n  subresources:\n    status: {}\n  version: \"v1alpha3\"\n  versions:\n  - name: v1alpha3\n    served: true\n    storage: true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions: []\n  storedVersions: []\n\n---\napiVersion: apiextensions.k8s.io/v1beta1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    \"helm.sh/resource-policy\": keep\n  creationTimestamp: null\n  labels:\n    app: istio-pilot\n    chart: istio\n    heritage: Tiller\n    release: istio\n  name: envoyfilters.networking.istio.io\nspec:\n  group: networking.istio.io\n  names:\n    categories:\n    - istio-io\n    - networking-istio-io\n    kind: EnvoyFilter\n    plural: envoyfilters\n    singular: envoyfilter\n  scope: Namespaced\n  subresources:\n    status: {}\n  version: \"v1alpha3\"\n  versions:\n  - name: v1alpha3\n    served: true\n    storage: true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions: []\n  storedVersions: []\n\n---\napiVersion: apiextensions.k8s.io/v1beta1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    \"helm.sh/resource-policy\": keep\n  creationTimestamp: null\n  labels:\n    app: istio-pilot\n    chart: istio\n    heritage: Tiller\n    release: istio\n  name: gateways.networking.istio.io\nspec:\n  group: networking.istio.io\n  names:\n    categories:\n    - istio-io\n    - networking-istio-io\n    kind: Gateway\n    plural: gateways\n    shortNames:\n    - gw\n    singular: gateway\n  scope: Namespaced\n  subresources:\n    status: {}\n  version: \"v1alpha3\"\n  versions:\n  - name: v1alpha3\n    served: true\n    storage: true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions: []\n  storedVersions: []\n\n---\napiVersion: apiextensions.k8s.io/v1beta1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    \"helm.sh/resource-policy\": keep\n  creationTimestamp: null\n  labels:\n    app: istio-mixer\n    chart: istio\n    heritage: Tiller\n    release: istio\n  name: httpapispecbindings.config.istio.io\nspec:\n  group: config.istio.io\n  names:\n    categories:\n    - istio-io\n    - apim-istio-io\n    kind: HTTPAPISpecBinding\n    plural: httpapispecbindings\n    singular: httpapispecbinding\n  scope: Namespaced\n  subresources:\n    status: {}\n  version: \"v1alpha2\"\n  versions:\n  - name: v1alpha2\n    served: true\n    storage: true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions: []\n  storedVersions: []\n\n---\napiVersion: apiextensions.k8s.io/v1beta1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    \"helm.sh/resource-policy\": keep\n  creationTimestamp: null\n  labels:\n    app: istio-mixer\n    chart: istio\n    heritage: Tiller\n    release: istio\n  name: httpapispecs.config.istio.io\nspec:\n  group: config.istio.io\n  names:\n    categories:\n    - istio-io\n    - apim-istio-io\n    kind: HTTPAPISpec\n    plural: httpapispecs\n    singular: httpapispec\n  scope: Namespaced\n  subresources:\n    status: {}\n  version: \"v1alpha2\"\n  versions:\n  - name: v1alpha2\n    served: true\n    storage: true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions: []\n  storedVersions: []\n\n---\napiVersion: apiextensions.k8s.io/v1beta1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    \"helm.sh/resource-policy\": keep\n  creationTimestamp: null\n  labels:\n    app: istio-citadel\n    chart: istio\n    heritage: Tiller\n    release: istio\n  name: meshpolicies.authentication.istio.io\nspec:\n  group: authentication.istio.io\n  names:\n    categories:\n    - istio-io\n    - authentication-istio-io\n    kind: MeshPolicy\n    listKind: MeshPolicyList\n    plural: meshpolicies\n    singular: meshpolicy\n  scope: Cluster\n  subresources:\n    status: {}\n  version: \"v1alpha1\"\n  versions:\n  - name: v1alpha1\n    served: true\n    storage: true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions: []\n  storedVersions: []\n\n---\napiVersion: apiextensions.k8s.io/v1beta1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    \"helm.sh/resource-policy\": keep\n  creationTimestamp: null\n  labels:\n    app: istio-citadel\n    chart: istio\n    heritage: Tiller\n    release: istio\n  name: policies.authentication.istio.io\nspec:\n  group: authentication.istio.io\n  names:\n    categories:\n    - istio-io\n    - authentication-istio-io\n    kind: Policy\n    plural: policies\n    singular: policy\n  scope: Namespaced\n  subresources:\n    status: {}\n  version: \"v1alpha1\"\n  versions:\n  - name: v1alpha1\n    served: true\n    storage: true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions: []\n  storedVersions: []\n\n---\napiVersion: apiextensions.k8s.io/v1beta1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    \"helm.sh/resource-policy\": keep\n  creationTimestamp: null\n  labels:\n    app: istio-mixer\n    chart: istio\n    heritage: Tiller\n    release: istio\n  name: quotaspecbindings.config.istio.io\nspec:\n  group: config.istio.io\n  names:\n    categories:\n    - istio-io\n    - apim-istio-io\n    kind: QuotaSpecBinding\n    plural: quotaspecbindings\n    singular: quotaspecbinding\n  scope: Namespaced\n  subresources:\n    status: {}\n  version: \"v1alpha2\"\n  versions:\n  - name: v1alpha2\n    served: true\n    storage: true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions: []\n  storedVersions: []\n\n---\napiVersion: apiextensions.k8s.io/v1beta1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    \"helm.sh/resource-policy\": keep\n  creationTimestamp: null\n  labels:\n    app: istio-mixer\n    chart: istio\n    heritage: Tiller\n    release: istio\n  name: quotaspecs.config.istio.io\nspec:\n  group: config.istio.io\n  names:\n    categories:\n    - istio-io\n    - apim-istio-io\n    kind: QuotaSpec\n    plural: quotaspecs\n    singular: quotaspec\n  scope: Namespaced\n  subresources:\n    status: {}\n  version: \"v1alpha2\"\n  versions:\n  - name: v1alpha2\n    served: true\n    storage: true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions: []\n  storedVersions: []\n\n---\napiVersion: apiextensions.k8s.io/v1beta1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    \"helm.sh/resource-policy\": keep\n  creationTimestamp: null\n  labels:\n    app: mixer\n    chart: istio\n    heritage: Tiller\n    istio: rbac\n    package: istio.io.mixer\n    release: istio\n  name: rbacconfigs.rbac.istio.io\nspec:\n  group: rbac.istio.io\n  names:\n    categories:\n    - istio-io\n    - rbac-istio-io\n    kind: RbacConfig\n    plural: rbacconfigs\n    singular: rbacconfig\n  scope: Namespaced\n  subresources:\n    status: {}\n  version: \"v1alpha1\"\n  versions:\n  - name: v1alpha1\n    served: true\n    storage: true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions: []\n  storedVersions: []\n\n---\napiVersion: apiextensions.k8s.io/v1beta1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    \"helm.sh/resource-policy\": keep\n  creationTimestamp: null\n  labels:\n    app: mixer\n    chart: istio\n    heritage: Tiller\n    istio: core\n    package: istio.io.mixer\n    release: istio\n  name: rules.config.istio.io\nspec:\n  group: config.istio.io\n  names:\n    categories:\n    - istio-io\n    - policy-istio-io\n    kind: rule\n    plural: rules\n    singular: rule\n  scope: Namespaced\n  subresources:\n    status: {}\n  version: \"v1alpha2\"\n  versions:\n  - name: v1alpha2\n    served: true\n    storage: true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions: []\n  storedVersions: []\n\n---\napiVersion: apiextensions.k8s.io/v1beta1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    \"helm.sh/resource-policy\": keep\n  creationTimestamp: null\n  labels:\n    app: istio-pilot\n    chart: istio\n    heritage: Tiller\n    release: istio\n  name: serviceentries.networking.istio.io\nspec:\n  additionalPrinterColumns:\n  - JSONPath: .spec.hosts\n    description: The hosts associated with the ServiceEntry\n    name: Hosts\n    type: string\n  - JSONPath: .spec.location\n    description: Whether the service is external to the mesh or part of the mesh (MESH_EXTERNAL\n      or MESH_INTERNAL)\n    name: Location\n    type: string\n  - JSONPath: .spec.resolution\n    description: Service discovery mode for the hosts (NONE, STATIC, or DNS)\n    name: Resolution\n    type: string\n  - JSONPath: .metadata.creationTimestamp\n    description: |-\n      CreationTimestamp is a timestamp representing the server time when this object was created. It is not guaranteed to be set in happens-before order across separate operations. Clients may not set this value. It is represented in RFC3339 form and is in UTC.\n      Populated by the system. Read-only. Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata\n    name: Age\n    type: date\n  group: networking.istio.io\n  names:\n    categories:\n    - istio-io\n    - networking-istio-io\n    kind: ServiceEntry\n    listKind: ServiceEntryList\n    plural: serviceentries\n    shortNames:\n    - se\n    singular: serviceentry\n  scope: Namespaced\n  subresources:\n    status: {}\n  version: \"v1alpha3\"\n  versions:\n  - name: v1alpha3\n    served: true\n    storage: true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions: []\n  storedVersions: []\n\n---\napiVersion: apiextensions.k8s.io/v1beta1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    \"helm.sh/resource-policy\": keep\n  creationTimestamp: null\n  labels:\n    app: mixer\n    chart: istio\n    heritage: Tiller\n    istio: rbac\n    package: istio.io.mixer\n    release: istio\n  name: servicerolebindings.rbac.istio.io\nspec:\n  additionalPrinterColumns:\n  - JSONPath: .spec.roleRef.name\n    description: The name of the ServiceRole object being referenced\n    name: Reference\n    type: string\n  - JSONPath: .metadata.creationTimestamp\n    description: |-\n      CreationTimestamp is a timestamp representing the server time when this object was created. It is not guaranteed to be set in happens-before order across separate operations. Clients may not set this value. It is represented in RFC3339 form and is in UTC.\n      Populated by the system. Read-only. Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata\n    name: Age\n    type: date\n  group: rbac.istio.io\n  names:\n    categories:\n    - istio-io\n    - rbac-istio-io\n    kind: ServiceRoleBinding\n    plural: servicerolebindings\n    singular: servicerolebinding\n  scope: Namespaced\n  subresources:\n    status: {}\n  version: \"v1alpha1\"\n  versions:\n  - name: v1alpha1\n    served: true\n    storage: true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions: []\n  storedVersions: []\n\n---\napiVersion: apiextensions.k8s.io/v1beta1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    \"helm.sh/resource-policy\": keep\n  creationTimestamp: null\n  labels:\n    app: mixer\n    chart: istio\n    heritage: Tiller\n    istio: rbac\n    package: istio.io.mixer\n    release: istio\n  name: serviceroles.rbac.istio.io\nspec:\n  group: rbac.istio.io\n  names:\n    categories:\n    - istio-io\n    - rbac-istio-io\n    kind: ServiceRole\n    plural: serviceroles\n    singular: servicerole\n  scope: Namespaced\n  subresources:\n    status: {}\n  version: \"v1alpha1\"\n  versions:\n  - name: v1alpha1\n    served: true\n    storage: true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions: []\n  storedVersions: []\n\n---\napiVersion: apiextensions.k8s.io/v1beta1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    \"helm.sh/resource-policy\": keep\n  creationTimestamp: null\n  labels:\n    app: istio-pilot\n    chart: istio\n    heritage: Tiller\n    release: istio\n  name: sidecars.networking.istio.io\nspec:\n  group: networking.istio.io\n  names:\n    categories:\n    - istio-io\n    - networking-istio-io\n    kind: Sidecar\n    plural: sidecars\n    singular: sidecar\n  scope: Namespaced\n  subresources:\n    status: {}\n  version: \"v1alpha3\"\n  versions:\n  - name: v1alpha3\n    served: true\n    storage: true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions: []\n  storedVersions: []\n\n---\napiVersion: apiextensions.k8s.io/v1beta1\nkind: CustomResourceDefinition\nmetadata:\n  annotations:\n    \"helm.sh/resource-policy\": keep\n  creationTimestamp: null\n  labels:\n    app: istio-pilot\n    chart: istio\n    heritage: Tiller\n    release: istio\n  name: virtualservices.networking.istio.io\nspec:\n  additionalPrinterColumns:\n  - JSONPath: .spec.gateways\n    description: The names of gateways and sidecars that should apply these routes\n    name: Gateways\n    type: string\n  - JSONPath: .spec.hosts\n    description: The destination hosts to which traffic is being sent\n    name: Hosts\n    type: string\n  - JSONPath: .metadata.creationTimestamp\n    description: |-\n      CreationTimestamp is a timestamp representing the server time when this object was created. It is not guaranteed to be set in happens-before order across separate operations. Clients may not set this value. It is represented in RFC3339 form and is in UTC.\n      Populated by the system. Read-only. Null for lists. More info: https://git.k8s.io/community/contributors/devel/api-conventions.md#metadata\n    name: Age\n    type: date\n  group: networking.istio.io\n  names:\n    categories:\n    - istio-io\n    - networking-istio-io\n    kind: VirtualService\n    listKind: VirtualServiceList\n    plural: virtualservices\n    shortNames:\n    - vs\n    singular: virtualservice\n  scope: Namespaced\n  subresources:\n    status: {}\n  version: \"v1alpha3\"\n  versions:\n  - name: v1alpha3\n    served: true\n    storage: true\nstatus:\n  acceptedNames:\n    kind: \"\"\n    plural: \"\"\n  conditions: []\n  storedVersions: []\n---",
  },
  kind: "ConfigMap",
  metadata: {
    name: "istio-crd-all",
    namespace: "mesh-control-plane",
  },
}
else "SKIP"
