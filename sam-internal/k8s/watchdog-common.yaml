# To redeploy
# kubectl delete --namespace=sam-system ds watchdog-common
# kubectl create --namespace=sam-system -f watchdog-common.yaml

---
apiVersion: extensions/v1beta1
kind: DaemonSet
metadata:
  labels:
    name: watchdog-common
  name: watchdog-common
spec:
  template:
    metadata:
      labels:
        app: watchdog-common
        apptype: monitoring
    spec:
      containers:
        - image: "shared0-samcontrol1-1-prd.eng.sfdc.net:5000/watchdog:prabh.singh-20160920_234757-7f22ddd"
          name: watchdog
          command:
            - /sam/watchdog
            - -role=COMMON
          resources:
            limits:
              cpu: "0.5"
              memory: "300Mi"
            requests:
              cpu: "0.5"
              memory: "300Mi"
      nodeSelector:
          COMMON: "true"
# This is needed so our docker images see the real hostname for now
      hostNetwork: true