# To redeploy
# kubectl delete --namespace=sam-system ds watchdog
# kubectl create --namespace=sam-system -f watchdog.yaml

---
apiVersion: extensions/v1beta1
kind: DaemonSet
metadata:
  labels:
    name: watchdog
  name: watchdog
spec:
  template:
    metadata:
      labels:
        app: watchd
    spec:
      nodeSelector:
          kubernetes.io/hostname:  "shared0-samkubeapi1-2-prd.eng.sfdc.net"
      containers:
        - image: "shared0-samcontrol1-1-prd.eng.sfdc.net:5000/watchdog:prabh.singh-20160826_041024-aab7fad"
          name: watchdog
          resources:
            limits:
              cpu: "0.5"
              memory: "300Mi"
            requests:
              cpu: "0.5"
              memory: "300Mi"
# This is needed so our docker images see the real hostname for now
      hostNetwork: true