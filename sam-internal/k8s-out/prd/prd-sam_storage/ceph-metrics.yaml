apiVersion: v1
items:
- apiVersion: extensions/v1beta1
  kind: Deployment
  metadata:
    labels:
      cloud: storage
      sam.data.sfdc.net/owner: storage
      team: legostore
    name: ceph-metrics
    namespace: ceph-prd-sam-cephdev
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 2
    selector:
      matchLabels:
        app: ceph-metrics
        cloud: storage
        team: legostore
    template:
      metadata:
        labels:
          app: ceph-metrics
          cloud: storage
          team: legostore
      spec:
        containers:
        - args:
          - -j
          - ceph_mon
          command:
          - /opt/sfms/bin/sfms
          env:
          - name: SFDC_FUNNEL_VIP
            value: ajna0-funnel1-0-prd.data.sfdc.net:80
          - name: MC_KINGDOM
            value: prd
          - name: MC_ESTATE
            value: prd-sam_storage
          - name: MC_NAME
            value: ceph-metrics
          - name: MC_NAMESPACE
            valueFrom:
              fieldRef:
                fieldPath: metadata.namespace
          - name: MC_NODE
            valueFrom:
              fieldRef:
                fieldPath: spec.nodeName
          - name: MC_DEVICE
            valueFrom:
              fieldRef:
                fieldPath: metadata.name
          image: ops0-artifactrepo2-0-prd.data.sfdc.net/docker-release-candidate/tnrp/storagecloud/sfms:latest-0000182-ebb4867b
          imagePullPolicy: IfNotPresent
          name: sfms
          ports:
          - containerPort: 8001
            name: ceph-metrics
            protocol: TCP
          volumeMounts:
          - mountPath: /etc/ceph
            name: ceph-conf
        - args:
          - -ceph-key-config-dir=/etc/ceph-metrics/key-config
          - -ceph-cluster-config-dir=/etc/ceph-metrics/ceph-cluster-config
          - -ceph-config-dir=/etc/ceph
          image: ops0-artifactrepo2-0-prd.data.sfdc.net/docker-release-candidate/tnrp/storagecloud/configwatcher:base-0000437-311530ce
          imagePullPolicy: IfNotPresent
          name: configwatcher
          volumeMounts:
          - mountPath: /etc/ceph
            name: ceph-conf
          - mountPath: /etc/ceph-metrics/key-config
            name: key-conf
            readOnly: true
          - mountPath: /etc/ceph-metrics/ceph-cluster-config
            name: ceph-cluster-conf
            readOnly: true
          - mountPath: /etc/kubernetes
            name: kubernetes
        nodeSelector:
          pool: prd-sam_storage
        volumes:
        - hostPath:
            path: /etc/kubernetes
          name: kubernetes
        - emptyDir: {}
          name: ceph-conf
        - name: key-conf
          secret:
            secretName: ceph-client-key
        - configMap:
            name: ceph-cluster
          name: ceph-cluster-conf
- apiVersion: extensions/v1beta1
  kind: Deployment
  metadata:
    labels:
      cloud: storage
      sam.data.sfdc.net/owner: storage
      team: legostore
    name: ceph-metrics
    namespace: ceph-prd-sam-storage
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 2
    selector:
      matchLabels:
        app: ceph-metrics
        cloud: storage
        team: legostore
    template:
      metadata:
        labels:
          app: ceph-metrics
          cloud: storage
          team: legostore
      spec:
        containers:
        - args:
          - -j
          - ceph_mon
          command:
          - /opt/sfms/bin/sfms
          env:
          - name: SFDC_FUNNEL_VIP
            value: ajna0-funnel1-0-prd.data.sfdc.net:80
          - name: MC_KINGDOM
            value: prd
          - name: MC_ESTATE
            value: prd-sam_storage
          - name: MC_NAME
            value: ceph-metrics
          - name: MC_NAMESPACE
            valueFrom:
              fieldRef:
                fieldPath: metadata.namespace
          - name: MC_NODE
            valueFrom:
              fieldRef:
                fieldPath: spec.nodeName
          - name: MC_DEVICE
            valueFrom:
              fieldRef:
                fieldPath: metadata.name
          image: ops0-artifactrepo2-0-prd.data.sfdc.net/docker-release-candidate/tnrp/storagecloud/sfms:latest-0000182-ebb4867b
          imagePullPolicy: IfNotPresent
          name: sfms
          ports:
          - containerPort: 8001
            name: ceph-metrics
            protocol: TCP
          volumeMounts:
          - mountPath: /etc/ceph
            name: ceph-conf
        - args:
          - -ceph-key-config-dir=/etc/ceph-metrics/key-config
          - -ceph-cluster-config-dir=/etc/ceph-metrics/ceph-cluster-config
          - -ceph-config-dir=/etc/ceph
          image: ops0-artifactrepo2-0-prd.data.sfdc.net/docker-release-candidate/tnrp/storagecloud/configwatcher:base-0000437-311530ce
          imagePullPolicy: IfNotPresent
          name: configwatcher
          volumeMounts:
          - mountPath: /etc/ceph
            name: ceph-conf
          - mountPath: /etc/ceph-metrics/key-config
            name: key-conf
            readOnly: true
          - mountPath: /etc/ceph-metrics/ceph-cluster-config
            name: ceph-cluster-conf
            readOnly: true
          - mountPath: /etc/kubernetes
            name: kubernetes
        nodeSelector:
          pool: prd-sam_storage
        volumes:
        - hostPath:
            path: /etc/kubernetes
          name: kubernetes
        - emptyDir: {}
          name: ceph-conf
        - name: key-conf
          secret:
            secretName: ceph-client-key
        - configMap:
            name: ceph-cluster
          name: ceph-cluster-conf
kind: List
metadata: {}
