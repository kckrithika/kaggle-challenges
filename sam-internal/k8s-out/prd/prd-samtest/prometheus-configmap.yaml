apiVersion: v1
data:
  prometheus.json: |-
    {
      "alerting": {
        "alertmanagers": [
          {
            "scheme": "http",
            "static_configs": [
              {
                "targets": []
              }
            ],
            "timeout": "10s"
          }
        ]
      },
      "global": {
        "evaluation_interval": "15s",
        "scrape_interval": "15s",
        "scrape_timeout": "10s"
      },
      "scrape_configs": [
        {
          "job_name": "prometheus",
          "metrics_path": "/metrics",
          "scheme": "http",
          "scrape_interval": "15s",
          "scrape_timeout": "10s",
          "static_configs": [
            {
              "targets": [
                "localhost:9090"
              ]
            }
          ]
        },
        {
          "job_name": "test-etcd",
          "scheme": "https",
          "static_configs": [
            {
              "targets": [
                "shared0-samtestkubeapi1-1-prd.eng.sfdc.net",
                "shared0-samtestkubeapi2-1-prd.eng.sfdc.net",
                "shared0-samtestkubeapi3-1-prd.eng.sfdc.net"
              ]
            }
          ],
          "tls_config": {
            "ca_file": "/etc/pki_service/ca/cabundle.pem",
            "cert_file": "/etc/pki_service/etcd/etcd-client/certificates/etcd-client.pem",
            "key_file": "/etc/pki_service/etcd/etcd-client/keys/etcd-client-key.pem"
          }
        }
      ]
    }
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: prometheus
  namespace: sam-system
