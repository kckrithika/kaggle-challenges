apiVersion: v1
kind: Service
metadata:
  annotations:
    slb.sfdc.net/name: firefly-rabbitmq
    slb.sfdc.net/portconfigurations: '[{"healthpath": "/actuator/health", "healthport":
      15672, "lbtype": "http", "port": 15672, "reencrypt": false, "sticky": 0, "targetport":
      15672, "tls": false}, {"healthpath": "/actuator/health", "healthport": 15672,
      "lbtype": "http", "port": 15671, "reencrypt": false, "sticky": 0, "targetport":
      15672, "tls": true}, {"healthpath": "/actuator/health", "healthport": 15672,
      "lbtype": "tcp", "port": 5672, "sticky": 0, "targetport": 5672}, {"healthpath":
      "/actuator/health", "healthport": 15672, "lbtype": "tcp", "port": 5671, "sticky":
      0, "targetport": 5671}]'
  labels:
    app: firefly-rabbitmq
    sam.data.sfdc.net/owner: tnrp
    type: LoadBalancer
  name: rabbitmq-svc
  namespace: firefly
spec:
  ports:
  - name: http
    port: 15672
    protocol: TCP
    targetPort: 15672
  - name: https
    port: 15671
    protocol: TCP
    targetPort: 15672
  - name: amqp
    port: 5672
    protocol: TCP
    targetPort: 5672
  - name: amqp-tls
    port: 5671
    protocol: TCP
    targetPort: 5671
  - name: admin-port
    port: 8081
    protocol: TCP
    targetPort: 8081
  selector:
    app: rabbitmq
  type: NodePort
