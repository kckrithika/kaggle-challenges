apiVersion: v1
items:
- apiVersion: extensions/v1beta1
  kind: DaemonSet
  metadata:
    labels:
      cloud: storage
      name: ceph-image-puller
      team: storage-foundation
    name: ceph-image-puller
    namespace: storage-foundation
  spec:
    minReadySeconds: 30
    template:
      metadata:
        labels:
          cloud: storage
          name: ceph-image-puller
          team: storage-foundation
      spec:
        affinity:
          nodeAffinity:
            requiredDuringSchedulingIgnoredDuringExecution:
              nodeSelectorTerms:
              - matchExpressions:
                - key: pool
                  operator: In
                  values:
                  - xrd-sam_ceph
        containers:
        - image: gcr.io/google_containers/pause-amd64:3.0
          name: pause
        initContainers:
        - command:
          - /bin/bash
          - -c
          - echo successfully pulled image ops0-artifactrepo1-0-xrd.data.sfdc.net/tnrp/storagecloud/ceph-daemon:10.2.7-0000062-6d863283
          image: ops0-artifactrepo1-0-xrd.data.sfdc.net/tnrp/storagecloud/ceph-daemon:10.2.7-0000062-6d863283
          name: image-puller
    updateStrategy:
      rollingUpdate:
        maxUnavailable: 33%
      type: RollingUpdate
kind: List
