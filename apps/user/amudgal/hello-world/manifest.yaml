apiVersion: v1

system:
  functions:
    - name: helloworld
      count: 1
      containers:
        - name: helloworld-service
          image: ops0-artifactrepo1-0-prd.data.sfdc.net/docker-sam/amudgal/helloworld:amudgal-20190430-242d0bd
          # If your service doesn't serve HTTP traffic then you can remove the scone-http 8080 port.
          ports:
            - containerPort: 8080
              name: scone-http
            - containerPort: 7020
              name: grpc-svc
            - containerPort: 15372
              name: scone-mgmt
          livenessProbe:
            initialDelaySeconds: 30
            httpGet:
              path: /api/v1/hello-world/test
              port: 8080
          readinessProbe:
            timeoutSeconds: 10
            httpGet:
              path: /api/v1/hello-world/test
              port: 8080

      # The volumes to mount for shipping logs to splunk
      # General rule is to use path that satisfies the pattern: /home/sfdc-*/logs/**/*.json
      volumes: