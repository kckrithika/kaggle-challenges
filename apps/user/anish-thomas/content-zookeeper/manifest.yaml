apiVersion: v1

system:
  functions:
    - name: content-zookeeper
      count: 1
      containers: 
        - name: content-zookeeper
          image: ops0-artifactrepo1-0-prd.data.sfdc.net/docker-sam/anish.thomas/zookeeper:first-version
          ports:
            - containerPort: 2181
            - containerPort: 2888
            - containerPort: 3888
          livenessProbe:
            initialDelaySeconds: 5
            exec:
              command:
                - "/usr/bin/ok-zk.sh"
  loadbalancers:
  - lbname: content-zookeeper-lb
    function: content-zookeeper
    slbenabled: true
    ports:
      - port: 2181
        targetPort: 2181
        lbtype: tcp
      - port: 2888
        targetPort: 2888
        lbtype: tcp
      - port: 3888
        targetPort: 3888
        lbtype: tcp

