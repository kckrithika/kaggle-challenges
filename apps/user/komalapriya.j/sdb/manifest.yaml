apiVersion: v1
system:
  functions:
  - name: default
    count: 2
    containers:
    - name: samsdbzookeeper
      image: ops0-artifactrepo1-0-prd.data.sfdc.net/docker-sam/kj/zookeeper:version1
      ports:
      - containerPort: 2181
        name: client
      - containerPort: 2888
        name: server
      - containerPort: 3888
        name: leader-election
      command:
        - sh
        - -c
        - zkGenConfig.sh && zkServer.sh start-foreground
      readinessProbe:
        exec:
         command:
          - "zkOk.sh"
        initialDelaySeconds: 10
        timeoutSeconds: 5
      livenessProbe:
        exec:
         command:
          - "zkOk.sh"
        initialDelaySeconds: 10
        timeoutSeconds: 5
