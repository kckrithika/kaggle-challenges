apiVersion: v1
system:
  functions:
  - name: zones-client
    count: 1
    volumes:
      - name: servercert
        maddogCert:
          type: server
      - name: clientcert
        maddogCert:
          type: client
    containers:
    - name: zones-client
      image: ops0-artifactrepo1-0-prd.data.sfdc.net/docker-sam/jiaqi-wu/zones_client:5
      env:
      - name: BACKEND_ENDPOINT
        value: "https://zones-intake-backend-secure.user-jiaqi-wu.prd-sam.prd.slb.sfdc.net:4443/zones/v1/roles"
      - name: CLIENT_CERT_PATH
        value: "/clientcerts/client/certificates/client.pem"
      - name: CLIENT_KEY_PATH
        value: "/clientcerts/client/keys/client-key.pem"
      - name: CA_CERT_PATH
        value: "/servercerts/ca.pem"
      livenessProbe:
        httpGet:
          path: /
          port: 8000
      volumeMounts:
      - name: servercert
        mountPath: /servercerts
      - name: clientcert
        mountPath: /clientcerts
