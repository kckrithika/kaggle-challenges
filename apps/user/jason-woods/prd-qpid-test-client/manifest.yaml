apiVersion: v1

system:
  notifications:
    email:
      - jason.woods@salesforce.com
  functions:
    - name: qpid-test-client
      count: 3
      containers:
        - name: qpid-test-client
          image: ops0-artifactrepo1-0-prd.data.sfdc.net/docker-sam/appscale/qpid-client-test:914da1d99fb8a5bc16795ab3a701b892c032e874
          resources:
            limits: { cpu: "8", memory: "2Gi" }
            requests: { cpu: "8", memory: "2Gi" }
          livenessProbe:
            exec:
              command: ["/bin/true"]
            initialDelaySeconds: 10
            timeoutSeconds: 10
            periodSeconds: 60
          readinessProbe:
            exec:
              command: ["/bin/true"]
            initialDelaySeconds: 10
            timeoutSeconds: 10
          volumeMounts:
          - name: clientcert
            mountPath: /client-certs

      volumes:
        - name: clientcert
          maddogCert:
            type: client
