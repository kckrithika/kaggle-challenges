apiVersion: v1
system:
  functions:
    - name: victim-rm-default
      labels:
        chaos.sfdc.net/podKill: true
        chaos.sfdc.net/podKillPeriodSpeed: 15m
        chaos.sfdc.net/podMustBeGood: false
        chaos.sfdc.net/deploymentMustBeGood: false
      count: 3
      containers:
        - name: echo
          image: ops0-artifactrepo1-0-prd.data.sfdc.net/docker-sam/jhankins/echo32:8152018-002 # golang app
          ports:
            - containerPort: 9900
          livenessProbe:
            httpGet:
              path: /
              port: 9900
    - name: victim-rm-default-min-cnt
      labels:
        chaos.sfdc.net/podKill: true
        chaos.sfdc.net/podKillPeriodSpeed: 15m
        chaos.sfdc.net/PodKillMinCount: 2
        chaos.sfdc.net/podMustBeGood: false
        chaos.sfdc.net/deploymentMustBeGood: false
      count: 3
      containers:
        - name: echo
          image: ops0-artifactrepo1-0-prd.data.sfdc.net/docker-sam/jhankins/echo32:8152018-002 # golang app
          ports:
            - containerPort: 9900
          livenessProbe:
            httpGet:
              path: /
              port: 9900
    - name: victim-rm-default-min-pct
      labels:
        chaos.sfdc.net/podKill: true
        chaos.sfdc.net/podKillPeriodSpeed: 15m
        chaos.sfdc.net/PodKillMinPct: 0.3
        chaos.sfdc.net/podMustBeGood: false
        chaos.sfdc.net/deploymentMustBeGood: false
      count: 3
      containers:
        - name: echo
          image: ops0-artifactrepo1-0-prd.data.sfdc.net/docker-sam/jhankins/echo32:8152018-002 # golang app
          ports:
            - containerPort: 9900
          livenessProbe:
            httpGet:
              path: /
              port: 9900
    - name: victim-rm-default-min-uptime
      labels:
        chaos.sfdc.net/podKill: true
        chaos.sfdc.net/podKillPeriodSpeed: 15m
        chaos.sfdc.net/PodKillMinUptime: 20m
        chaos.sfdc.net/podMustBeGood: false
        chaos.sfdc.net/deploymentMustBeGood: false
      count: 3
      containers:
        - name: echo
          image: ops0-artifactrepo1-0-prd.data.sfdc.net/docker-sam/jhankins/echo32:8152018-002 # golang app
          ports:
            - containerPort: 9900
          livenessProbe:
            httpGet:
              path: /
              port: 9900
