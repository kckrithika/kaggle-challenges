apiVersion: v1
system:
  functions:
    - name: eventbus-client-web-ui
      count: 1
      volumes:
        - name: clientcert
          maddogCert:
            type: client
            lbnames:
              - eventbus-client-web-ui-lb.user-emilio-kartono.prd-sam.prd.slb.sfdc.net
      containers:
      - name: eventbus-client-web-ui
        image: ops0-artifactrepo1-0-prd.data.sfdc.net/docker-sam/emilio.kartono/eventbus-client-web-ui:eventbus-client-web-ui
        ports:
        - containerPort: 5000
          name: ui-port
        livenessProbe:
          initialDelaySeconds: 6000
          periodSeconds: 60
          timeoutSeconds: 10
          failureThreshold: 5
          httpGet:
            path: /
            port: 5000
            scheme: HTTP
        volumeMounts:
          - name: clientcert
            mountPath: /clientcert
  loadbalancers:
  - lbname: eventbus-client-web-ui-lb
    function: eventbus-client-web-ui
    slbenabled: true
    ports:
      - port: 5000
        targetPort: 5000
        lbtype: "http"
        tls: true
