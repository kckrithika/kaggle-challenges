apiVersion: v1
system: 
  functions: 
    - name: testcvp
      count: 1
      volumes:
      - name: cert
        maddogCert:
          type: client
      containers:  
      - name: heimdall-ui 
        image: ops0-artifactrepo1-0-prd.data.sfdc.net/docker-sam/heimdall/heimdall-ui-sam-poc:1.0.5
        resources:
          limits: { cpu: "10", memory: "4Gi" }
          requests: { cpu: "10", memory: "4Gi" }
        ports:
        - containerPort: 8080
          name: http
        livenessProbe:
          exec:
            command:
            - cat
            - /etc/nginx/nginx.conf
          initialDelaySeconds: 120
          periodSeconds: 5
        volumeMounts:
        - name: cert
          mountPath: /certs
