apiVersion: v1
system:
 functions:
 - name: member-ms
   count: 1
   containers:
   - name: member-service-poc
     image: ops0-artifactrepo1-0-prd.data.sfdc.net/docker-sam/abiswal/member-ms:abiswal-2 # sample member-service-app
     ports:
     - containerPort: 7022
       name: http-svc
     - containerPort: 7020
       name: grpc-svc
     livenessProbe:
       httpGet:
         path: /
         port: 7022
   - name: sherpa 
     image: sfci/servicelibs/sherpa-envoy:1.0.5
     ports:
     - containerPort: 7012
       name: grpc
     - containerPort: 15373
       name: sherpa-adm
     livenessProbe:
       exec:
         command:
         - ./bin/is-alive
       initialDelaySeconds: 60
       periodSeconds: 5
     readinessProbe:
       exec:
         command:
         - ./bin/is-ready
       initialDelaySeconds: 50
       periodSeconds: 5    
   - name: beacon
     image: sfci/servicelibs/beacon:f6445b2b299f232eda1e0be9739b8242153478ea
     args:
     - -endpoint
     - $(FUNCTION):DATACENTER_ALLENV:HTTP2
     livenessProbe:
       initialDelaySeconds: 5
       exec:
         command:
           - /home/scone/is-alive.sh    
