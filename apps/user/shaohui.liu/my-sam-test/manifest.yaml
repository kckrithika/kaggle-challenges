apiVersion: v1
apiVersion: v1
apiVersion: v1
system:
  notifications:
    email:
      - shaohui.liu@salesforce.com
  functions:
  - name: default
    count: 2
    containers:
    - name: ia-namenode
      image:  ops0-artifactrepo1-0-prd.data.sfdc.net/docker-sam/shaohui.liu/namenode:test-20181101
       # namenode app
      ports:
      - containerPort: 50070
      env:
      - name: CLUSTER_NAME
        value: "test"
      livenessProbe:
        httpGet:
          path: /
          port: 50070
      volumeMounts:
      - mountPath: /hadoop/dfs/name
        name: sfdc
    volumes:
    - name: sfdc
      hostPath:
        path: /data/ia-name
  loadbalancers:
  - lbname: ia-namenode
    function: default
    slbenabled: true
    ports:
      - port: 50070
        targetport: 50070
        lbtype: tcp
