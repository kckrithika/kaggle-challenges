apiVersion: v1

system:
  functions:
  - name: default
    count: 1
    # https://confluence.internal.salesforce.com/pages/viewpage.action?spaceKey=SAM&title=How+to+obtain+Certificates+for+your+kPods
    volumes:
    - name: cert
      maddogCert:
        type: server
    containers:
    - name: bf-docker
      image: ops0-artifactrepo1-0-prd.data.sfdc.net/docker-sam/fluong/bf-docker:fluong-2017-1019-1044
      ports:
      - containerPort: 9090
      # https://kubernetes.io/docs/tasks/configure-pod-container/configure-liveness-readiness-probes/
      livenessProbe:
        httpGet:
          path: /status/sam
          port: 9090
        initialDelaySeconds: 60
