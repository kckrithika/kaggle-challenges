apiVersion: v1

system:
  functions:
  - name: secretservice-watchdog
    count: 1
    containers:
    - name: secretservice-watchdog
      image: dva/secretservice-watchdog:94-2f8be553ccbb5b20b07f9d7e30ed8e2c7b2b1f10
      command: ["/secretservice/secretservice-watchdog"]
      args:
      - "-metricsEndpoint=ajna0-funnel1-0-prd.data.sfdc.net:80"
      - "-vaultName=ss-canary-vault"
      - "-role=sam.secrets.secretservice-watchdog"
      - "-logtostderr=true"
      livenessProbe:
        exec:
          command: ["ls", "/"]
        failureThreshold: 3
        initialDelaySeconds: 5
        periodSeconds: 60
      volumeMounts:
      - mountPath: /clientcert
        name: cert
    volumes:
    - name: cert
      maddogCert:
        type: client
  - name: secretservice-watchdog-crz11
    count: 1
    containers:
    - name: secretservice-watchdog-crz11
      image: dva/secretservice-watchdog:94-2f8be553ccbb5b20b07f9d7e30ed8e2c7b2b1f10
      command: ["/secretservice/secretservice-watchdog"]
      args:
      - "-ssEndpoint=ops-vaultczar1-1-crz.ops.sfdc.net"
      - "-ssWritePort=8271"
      - "-wdKingdom=CRZ"
      - "-metricsEndpoint=ajna0-funnel1-0-prd.data.sfdc.net:80"
      - "-vaultName=ss-canary-vault-crz11"
      - "-role=sam.secrets.secretservice-watchdog-crz11"
      - "-logtostderr=true"
      livenessProbe:
        exec:
          command: ["ls", "/"]
        failureThreshold: 3
        initialDelaySeconds: 5
        periodSeconds: 60
      volumeMounts:
      - mountPath: /clientcert
        name: cert
    volumes:
    - name: cert
      maddogCert:
        type: client
  - name: secretservice-watchdog-crz21
    count: 1
    containers:
    - name: secretservice-watchdog-crz21
      image: dva/secretservice-watchdog:94-2f8be553ccbb5b20b07f9d7e30ed8e2c7b2b1f10
      command: ["/secretservice/secretservice-watchdog"]
      args:
      - "-ssEndpoint=ops-vaultczar2-1-crz.ops.sfdc.net"
      - "-ssWritePort=8271"
      - "-wdKingdom=CRZ"
      - "-metricsEndpoint=ajna0-funnel1-0-prd.data.sfdc.net:80"
      - "-vaultName=ss-canary-vault-crz21"
      - "-role=sam.secrets.secretservice-watchdog-crz21"
      - "-logtostderr=true"
      livenessProbe:
        exec:
          command: ["ls", "/"]
        failureThreshold: 3
        initialDelaySeconds: 5
        periodSeconds: 60
      volumeMounts:
      - mountPath: /clientcert
        name: cert
    volumes:
    - name: cert
      maddogCert:
        type: client
  - name: secretservice-watchdog-crz12
    count: 1
    containers:
    - name: secretservice-watchdog-crz12
      image: dva/secretservice-watchdog:94-2f8be553ccbb5b20b07f9d7e30ed8e2c7b2b1f10
      command: ["/secretservice/secretservice-watchdog"]
      args:
      - "-ssEndpoint=ops-vaultczar1-2-crz.ops.sfdc.net"
      - "-ssWritePort=8271"
      - "-wdKingdom=CRZ"
      - "-metricsEndpoint=ajna0-funnel1-0-prd.data.sfdc.net:80"
      - "-vaultName=ss-canary-vault-crz12"
      - "-role=sam.secrets.secretservice-watchdog-crz12"
      - "-logtostderr=true"
      livenessProbe:
        exec:
          command: ["ls", "/"]
        failureThreshold: 3
        initialDelaySeconds: 5
        periodSeconds: 60
      volumeMounts:
      - mountPath: /clientcert
        name: cert
    volumes:
    - name: cert
      maddogCert:
        type: client
  - name: secretservice-watchdog-crz22
    count: 1
    containers:
    - name: secretservice-watchdog-crz22
      image: dva/secretservice-watchdog:94-2f8be553ccbb5b20b07f9d7e30ed8e2c7b2b1f10
      command: ["/secretservice/secretservice-watchdog"]
      args:
      - "-ssEndpoint=ops-vaultczar2-2-crz.ops.sfdc.net"
      - "-ssWritePort=8271"
      - "-wdKingdom=CRZ"
      - "-metricsEndpoint=ajna0-funnel1-0-prd.data.sfdc.net:80"
      - "-vaultName=ss-canary-vault-crz22"
      - "-role=sam.secrets.secretservice-watchdog-crz22"
      - "-logtostderr=true"
      livenessProbe:
        exec:
          command: ["ls", "/"]
        failureThreshold: 3
        initialDelaySeconds: 5
        periodSeconds: 60
      volumeMounts:
      - mountPath: /clientcert
        name: cert
    volumes:
    - name: cert
      maddogCert:
        type: client
  - name: secretservice-watchdog-vip8271
    count: 1
    containers:
    - name: secretservice-watchdog-vip8271
      image: dva/secretservice-watchdog:94-2f8be553ccbb5b20b07f9d7e30ed8e2c7b2b1f10
      command: ["/secretservice/secretservice-watchdog"]
      args:
      - "-ssWritePort=8271"
      - "-metricsEndpoint=ajna0-funnel1-0-prd.data.sfdc.net:80"
      - "-vaultName=ss-canary-vault-vip8271"
      - "-role=sam.secrets.secretservice-watchdog-vip8271"
      - "-logtostderr=true"
      livenessProbe:
        exec:
          command: ["ls", "/"]
        failureThreshold: 3
        initialDelaySeconds: 5
        periodSeconds: 60
      volumeMounts:
      - mountPath: /clientcert
        name: cert
    volumes:
    - name: cert
      maddogCert:
        type: client
  - name: secretservice-watchdog-prd
    count: 1
    containers:
    - name: secretservice-watchdog
      image: dva/secretservice-watchdog:97-9557745714255e54879439f478cef980d3e31082
      command: ["/secretservice/secretservice-watchdog"]
      args:
      - "-ssEndpoint=secretservice-prd.data.sfdc.net"
      - "-wdKingdom=PRD"
      - "-metricsEndpoint=ajna0-funnel1-0-prd.data.sfdc.net:80"
      - "-vaultName=ss-canary-vault-prd"
      - "-role=sam.secrets.secretservice-watchdog-prd"
      - "-logtostderr=true"
      - "-enableLifecycleTest=true"
      livenessProbe:
        exec:
          command: ["ls", "/"]
        failureThreshold: 3
        initialDelaySeconds: 5
        periodSeconds: 60
      volumeMounts:
      - mountPath: /clientcert
        name: cert
    volumes:
    - name: cert
      maddogCert:
        type: client
  - name: secretservice-watchdog-crz-from-prd
    count: 1
    containers:
    - name: secretservice-watchdog-crz-from-prd
      image: dva/secretservice-watchdog:94-2f8be553ccbb5b20b07f9d7e30ed8e2c7b2b1f10
      command: ["/secretservice/secretservice-watchdog"]
      args:
      - "-wdKingdom=PRD"
      - "-metricsEndpoint=ajna0-funnel1-0-prd.data.sfdc.net:80"
      - "-vaultName=ss-canary-vault-crz-from-prd"
      - "-role=sam.secrets.secretservice-watchdog-crz-from-prd"
      - "-logtostderr=true"
      livenessProbe:
        exec:
          command: ["ls", "/"]
        failureThreshold: 3
        initialDelaySeconds: 5
        periodSeconds: 60
      volumeMounts:
      - mountPath: /clientcert
        name: cert
    volumes:
    - name: cert
      maddogCert:
        type: client
