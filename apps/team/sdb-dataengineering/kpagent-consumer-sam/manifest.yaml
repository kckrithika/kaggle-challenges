apiVersion: v1
system:
  functions:
  - name: kpagent-consumer-sam
    type: stateful-set
    count: 1
    hostnetwork: true
    containers:
    - name: kpagent-consumer-sam-image
      image: ops0-artifactrepo2-0-xrd.slb.sfdc.net/docker-devmvp/sdba/sdba_gcp_test:0.0.2
      ports:
      - containerPort: 9090
      livenessProbe:
        httpGet:
          path: /
          port: 9091
      volumeMounts:
        - name: tmp
          mountPath: /usr/src/app/tmp
        - name: out
          mountPath: /usr/src/app/out
    lbname: kpagent-consumer-sam-lb
    volumeClaimTemplates:
    - name: tmp
      storageClassName: standard
      storageSizeRequest: 1Gi
    - name: out
      storageClassName: standard
      storageSizeRequest: 1Gi