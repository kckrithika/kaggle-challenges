apiVersion: v1

system:
    notifications:
      email:
        - pteyer@salesforce.com
        - paul.howden@salesforce.com
    functions:
    - name: mysql-func
      count: 3
      strategy:
        type: RollingUpdate
        rollingUpdate:
          maxSurge: 0
          maxUnavailable: 1
      containers:
      - name: prd-mysql
        image: tnrp/casp/mysql:0.0.1-0000031-2fb6c25d
        ports:
        - name: mysql
          containerPort: 3306
          hostPort: 7014
        volumeMounts:
        - mountPath: /home/sfdc/mysql
          name: mysql-vol
        livenessProbe:
          exec:
            command:
            - /usr/bin/true
      volumes:
      - name: mysql-vol
        hostPath:
          path: /data/mysql
