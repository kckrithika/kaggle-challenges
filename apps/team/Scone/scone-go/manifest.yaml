apiVersion: v1

system:
  functions:
  - name: scone-go
    count: 1
    containers:
    - name: scone-go-app
      image: ops0-artifactrepo1-0-prd.data.sfdc.net/docker-sam/scone/go/scone-go:latest
      env:
      - name: SFDC_ENVIRONMENT
        value: sconex
      ports:
      - containerPort: 9090
      - containerPort: 15372
      args:
      - settings.path=sconex.-.prd.-.shipping-service-go
      - settings.superPod=-
      - log.file.enabled=true
      - log.file.json=true
      - log.file.path=/home/sfdc-sconego/logs/shipping-service-go/json/shipping-service-go.json
      livenessProbe:
        initialDelaySeconds: 15
        httpGet:
          path: /manage/health
          port: 15372
      terminationMessagePolicy: FallbackToLogsOnError
