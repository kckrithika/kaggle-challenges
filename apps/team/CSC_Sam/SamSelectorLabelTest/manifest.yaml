apiVersion: v1
  
system:
  notifications:
    email:
      - sam@salesforce.com
  functions:
  - name: samselectortestfn
    count: 2
    progressDeadlineSeconds: 120
    labels:
      app: test
    containers:
    - name: samselectortestapp
      image: dva/sam/hypersam:2838-bb0b18d18d0cfb389547ae7a3e5df9b23ba51e11
      command: ["/sam/sam-test-app"]
      args: ["-estate", "$(ESTATE)", "-kingdom", "$(KINGDOM)"]
      env:
        - name: El337
          value: "30100111012"
        - name: test
          value: "value"
      ports:
      - containerPort: 8000
      livenessProbe:
        httpGet:
          path: /
          port: 8000
      volumeMounts:
      - mountPath: /log
        name: logvol
      - mountPath: /tmp
        name: amagicvolumethatvanishes
    volumes:
    - name: logvol
      hostPath:
        path: /home/caas/logs/apps
    - name: amagicvolumethatvanishes
      emptyDir: {}
  - name: samselectortestwd
    count: 1
    labels:
      app: test
    containers:
    - name: samselectortestwd
      image: dva/sam/hypersam:2838-bb0b18d18d0cfb389547ae7a3e5df9b23ba51e11
      command: ["/sam/service-wd"]
      args: ["-service=lb124"]
  loadbalancers:
  - lbname: lb12
    selector:
      app: test
    nodeExposed: true
    ports:
      - port: 8886
        targetport: 8000
