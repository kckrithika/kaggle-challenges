apiVersion: v1

system:
  functions:
  - name: stateful-func-pvc
    type: stateful-set
    count: 2
    containers:
    - name: stateful-hello
      image: gcr.io/gsf-core-devmvp-sam2/jy/samapptest:helloworld
      ports:
      - containerPort: 8000
        name: web
      env:
        - name: DUMMYENV
          value: "SOMEVALUE"
      livenessProbe:
        httpGet:
          path: /
          port: 8000
      volumeMounts:
        - name: www
          mountPath: /var/lib/pd
    lbname: stateful-lb1-pvc
    terminationGracePeriodSeconds: 33
    volumeClaimTemplates:
    - name: www
      storageClassName: standard
      storageSizeRequest: 1Gi