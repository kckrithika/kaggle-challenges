apiVersion: v1

system:
  functions:
  - name: sam-gcp-test-func
    count: 2
    containers:
    - name: samhello
      image: gcr.io/gsf-core-devmvp-sam2/jy/samapptest:helloworld
      ports:
      - containerPort: 9090
      livenessProbe:
        httpGet:
          path: /
          port: 9090
      volumeMounts:
        - mountPath: /log
          name: logvol
        - mountPath: /tmp
          name: amagicvolumethatvanishes
        - mountPath: /certs
          name: certs
        volumes:
          - name: logvol
            hostPath:
              path: /home/caas/logs/apps
          - name: amagicvolumethatvanishes
            emptyDir: {}
          - name: certs
            maddogCert:
              type: server